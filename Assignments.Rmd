---
title: "Assignments for Crim 250"
output:
  html_document:
    toc: yes
    toc_float: yes
    collapsed: no
    number_sections: no
    toc_depth: 1
  pdf_document:
    toc: no
    toc_depth: '1'
---


This page will contain all the assignments you submit for the class.

This page will contain all the assignments you submit for the class.



### Instructions for all assignments

I want you to submit your assignment as a PDF, so I can keep a record of what the code looked like that day. I also want you to include your answers on your personal GitHub website. This will be good practice for editing your website and it will help you produce something you can keep after the class is over.

1. Download the Assignment1.Rmd file from Canvas. You can use this as a template for writing your answers. It's the same as what you can see on my website in the Assignments tab. Once we're done with this I'll edit the text on the website to include the solutions.

2. On RStudio, open a new R script in RStudio (File > New File > R Script). This is where you can test out your R code. You'll write your R commands and draw plots here.

3. Once you have finalized your code, copy and paste your results into this template (Assignment 1.Rmd). For example, if you produced a plot as the solution to one of the problems, you can copy and paste the R code in R markdown by using the ` ``{r} ``` ` command. Answer the questions in full sentences and Save.

4. Produce a PDF file with your answers. To do this, knit to PDF (use Knit button at the top of RStudio), locate the PDF file in your docs folder (it's in the same folder as the Rproj), and submit that on on Canvas in Assignment 1.

5. Build Website, go to GitHub desktop, commit and push. Now your solutions should be on your website as well.






# Assignment 1

**Collaborators: none. **

This assignment is due on Canvas on Monday 9/20 before class, at 10:15 am. Include the name of anyone with whom you collaborated at the top of the assignment.


### Problem 1 

Install the datasets package on the console below using `install.packages("datasets")`. Now load the library.

```{r}
# install.packages("datasets")
library(datasets)
```

Load the USArrests dataset and rename it `dat`. Note that this dataset comes with R, in the package datasets, so there's no need to load data from your computer. Why is it useful to rename the dataset?

```{r}
USArrests
dat <- USArrests
```
Answer: It is useful to rename the data set because it makes it easier to remember the name we give it to use in code commands later on in the assignment. It helps to separate the base R package dataset and turn it into our own dataset to use with the following work. 

### Problem 2

Use this command to make the state names into a new variable called State. 

```{r}
dat$state <- tolower(rownames(USArrests))
```

This dataset has the state names as row names, so we just want to make them into a new variable. We also make them all lower case, because that will help us draw a map later - the map function requires the states to be lower case.


List the variables contained in the dataset `USArrests`.

```{r}
list(dat)
head(dat)
names(dat)
summary(dat)

```

### Problem 3 

What type of variable (from the DVB chapter) is `Murder`? 

Answer: Murder is a quantitative variable, because there are measured numerical values representing murder rates for each state. 

What R Type of variable is it?

Answer: Murder is a character variable, as seen in the summary (dat) description in the code above.


### Problem 4

What information is contained in this dataset, in general? What do the numbers mean? 

Answer: This dataset contains the number of Murders, Assaults, and Rapes in each of the 50 states in the year 1973. It also shows us how many people lived in an urban area each state in that year, demonstrated by "UrbanPop."

### Problem 5

Draw a histogram of `Murder` with proper labels and title.

```{r, echo = TRUE, fig.width = 5, fig.height = 8}
# histogram of Murder
hist(dat$Murder, main="Histogram of Murder", xlab="Murder Rate", ylab="Frequency")

```

### Problem 6

Please summarize `Murder` quantitatively. What are its mean and median? What is the difference between mean and median? What is a quartile, and why do you think R gives you the 1st Qu. and 3rd Qu.?

```{r}
#Summary of Murder
summary(dat$Murder)
```
Answer: The mean of Murder is 7.788, the median of Murder is 7.250. Mean represents the average number of murders between the 50 states in 1973, whereas mean is the middle number of murders if the quantities were lined up in numerical order. 
Quartiles are 4 approximately evenly sized groups with the data ordered from least to greatest. R most likely gives us Q1 and Q3 because the values between these two represent the middle 50% of the data, and provide more context for the spread of the mean. 

### Problem 7

Repeat the same steps you followed for `Murder`, for the variables `Assault` and `Rape`. Now plot all three histograms together. You can do this by using the command `par(mfrow=c(3,1))` and then plotting each of the three. 

```{r, echo = TRUE, fig.width = 5, fig.height = 8}
#histogram of Assault
hist(dat$Assault, main="Histogram of Assault", xlab="Assault Rate", ylab="Frequency")
#Summary of Assault
summary(dat$Assault)

#Histogram of Rape
hist(dat$Rape, main="Histogram of Rape", xlab="Rape Rate", ylab="Frequency")
#Summary of Rape
summary(dat$Rape)

#Histogram of Murder, Assault, Rape
par(mfrow=c(3,1))
hist(dat$Murder, main="Histogram of Murder", xlab="Murder Rate", ylab="Frequency")
hist(dat$Assault, main="Histogram of Assault", xlab="Assault Rate", ylab="Frequency")
hist(dat$Rape, main="Histogram of Rape", xlab="Rape Rate", ylab="Frequency")
```

What does the command par do, in your own words (you can look this up by asking R `?par`)?

Answer: the command par is used to set certain parameters within the data given to it. In this case, we used the par function to tell R that we wanted to plot 3 character vectors on histograms together in one plot.

What can you learn from plotting the histograms together?

Answer: Plotting the 3 histograms together allows us to easily visually compare the frequency of murders, assaults, and rapes to see which crime was most common among the 50 states in the year 1973. 
  
### Problem 8

In the console below (not in text), type `install.packages("maps")` and press Enter, and then type `install.packages("ggplot2")` and press Enter. This will install the packages so you can load the libraries.

Run this code:

```{r, fig.width = 7.5, fig.height = 4}
library('maps') 
library('ggplot2') 

ggplot(dat, aes(map_id=state, fill=Murder)) + 
  geom_map(map=map_data("state")) + 
  expand_limits(x=map_data("state")$long, y=map_data("state")$lat)
```

What does this code do? Explain what each line is doing.

Answer: These lines of code are generating a dataframe that shows the map of the US,  breaking up the information from the variable Murder into sections based on state. The lines also color-code the map based on the number of murders that occurred in that state. 

$$\\[2in]$$

# Assignment 2
## Subtitle: Crim 250: Statistics for the Social Sciences
Name: Johanna Doherty
Date: 09/24/2021


## Problem 1: Load data

Set your working directory to the folder where you downloaded the data.
setwd("/Users/johannadoherty/Documents/FALL 21/CRIM 250/Assign 2")

Read the data
dat <- read.csv(file = 'dat.nsduh.small.1.csv')

What are the dimensions of the dataset? 
names(dat)
dim(dat)

Answer: The dimensions of the data are 7 variables/columns by 171 rows as seen above in the dimensions. 

## Problem 2: Variables

 Describe the variables in the dataset.
Answer: These are all numeric variables in R, although not all are quantitative variables in the data set. For example, irsex is a qualitative variable, with two options male or female, but each sex has been coded to a corresponding number, either 1 or 2, to make it useful as a numeric variable in R. 

What is this dataset about? Who collected the data, what kind of sample is it, and what was the purpose of generating the data?
Answer: The dataset is about drug use and health in the United States. The NSDUH (National Survey of Drug Use and Health) collected the data from participants ages 12 years and older in 2019. This is an example of a state based sample survey. The purpose of collecting the data from this sample is to hopefully be able to generalize about the drug use habits and health of the wider US population. 


## Problem 3: Age and gender

What is the age distribution of the sample like? Make sure you read the codebook to know what the variable values mean.
hist(dat$age2)
Answer: I used a histogram of the age2 variable (shown below) to demonstrate the distribution of age. Using the codebook to look at the meaning of the age2 variable, I can tell that the majority of respondents were between 35 and 49 years old (represented by the number 15 on this histogram). There was not a normal distribution of ages in this dataset, in fact the ages are skewed to the right, meaning there are more older participants than younger. 

Do you think this age distribution representative of the US population? Why or why  not?
I do not think this is entirely representative of the distribution of ages in the US Population. While I do believe there are a lot of Americans falling into the 35-49 age group, I do not think there is such a drastically higher frequency of people of this age group than others. It is likely that this age group was just the most likely to fill out this kind of survey. 

Is the sample balanced in terms of gender? If not, are there more females or males?
hist(dat$irsex)
summary(dat$irsex)

Answer: (in this above histogram, 1 represents male and 2 represents female). The dataset is almost balanced in terms of gender, as can be seen in the histogram. However, there are slightly more males in the data set than females. This can also be seen when looking at summary data of the gender variable (screenshot above), the mean is 1.468, meaning there are slightly more males than females in this data set. If it were perfectly balanced the mean should be exactly 1.5. 


Use this code to draw a stacked bar plot to view the relationship between sex and age. What can you conclude from this plot?
tab.agesex <- table(dat$irsex, dat$age2)
barplot(tab.agesex,
        main = "Stacked barchart",
        xlab = "Age category", ylab = "Frequency",
        legend.text = rownames(tab.agesex),
        beside = FALSE) # Stacked bars (default)

Answer: From this plot we can conclude that while most age group are roughly evenly split between males and females, some categories are overwhelmingly one or the other. For example, age group 8 (19 years old) seems to be entirely female, while age groups 6 and 7 (17 and 18 years old) seem to be entirely male. Overall, there are roughly even amounts of males and females for each age group, but there are some outliers. 

## Problem 4: Substance use
For which of the three substances included in the dataset (marijuana, alcohol, and cigarettes) do individuals tend to use the substance earlier?
hist(dat$mjage)
hist(dat$cigage)
hist(dat$iralcage)

Answer: From these histograms, it appears that a higher frequency of respondents first tried marijuana between the ages of 10-15 than any other substance. For both alcohol and cigarettes, the tallest/highest frequency age blocks were older/further to the right than for marijuana.

## Problem 5: Sexual attraction

What does the distribution of sexual attraction look like? Is this what you expected?
table(dat$sexatract)

(For this variable; 1=heterosexual, 2=mostly attracted to opposite sex, 3=equally attracted to males and females, 4=mostly attracted to same sex, 5=only attracted to same sex, 6=not sure, 97=refused, 98=blank, 99=legitimate skip.)

Answer: It looks like the vast majority of respondents are heterosexual (only attracted to the opposite gender), which is pretty much expected given the demographics of the US population. 

 What is the distribution of sexual attraction by gender? 
tab.gendersexatract <- table(dat$sexatract, dat$irsex)
barplot(tab.gendersexatract,
        main = "Stacked barchart",
        xlab = "Gender Category", ylab = "Frequency",
        legend.text = rownames(tab.gendersexatract),
        beside = FALSE) # Stacked bars (default)
        
Answer: The distribution of sexual attraction by gender show that the sexual orientations of the females in this data set were more varied than those of the males. While the majority of both sexes still identified as straight, there were a higher frequency of women who identified as something other than straight as compared to the males. 


## Problem 6: English speaking

What does the distribution of English speaking look like in the sample? Is this what you might expect for a random sample of the US population?
table(dat$speakengl)

Answer: The vast majority of respondents answered that they speak English very well, with only 21 selecting Well, and very few selecting anything less proficient than that. This does make sense to me, given that the national language of the US is English, but there are also a significant number of immigrants in the US that may not be as proficient in English. I would say that this is close to what I expected, but I may have expected to see more less proficient answers. 

Are there more English speaker females or males?
tab.sexspeakengl <- table(dat$speakengl, dat$irsex)
barplot(tab.sexspeakengl,
        main = "Stacked barchart",
        xlab = "Sex", ylab = "Frequency",
        legend.text = rownames(tab.sexspeakengl),
        beside = FALSE) # Stacked bars (default)

Answer: There are more English speaking males than females, but this is mainly because there are more males in the data set overall. There looks to be higher percentage of women that speak English “very well” compared to the men, but because there are a higher number of men overall, there are a higher number of men that speak English very well overall as well. 






# "Exam 1"
## author: "Johanna Doherty"
date: "10/04/2021"
output: html_document

Instructions

a. Create a folder in your computer (a good place would be under Crim 250, Exams). 

b. Download the dataset from the Canvas website (fatal-police-shootings-data.csv) onto that folder, and save your Exam 1.Rmd file in the same folder.

c. Download the README.md file. This is the codebook. 

d. Load the data into an R data frame.
```{r}
setwd("/Users/johannadoherty/Documents/FALL 21/CRIM 250/EXAM 1")
dat<-read.csv("fatal-police-shootings-data.csv")
```


Problem 1 (10 points)

a. Describe the dataset. This is the source: https://github.com/washingtonpost/data-police-shootings . Write two sentences (max.) about this.

__This data set, run by the Washington Post, contains every fatal shooting by U.S. police officers in the line of duty since January 2015.The data includes name of the victim, the date of the shooting, the manner of death, race, city, state and other relevant information about each shooting.__

b. How many observations are there in the data frame?
```{r}
dim(dat)
```

__There are 6594 observations for each of 17 variables in this data set..__

c. Look at the names of the variables in the data frame. Describe what "body_camera", "flee", and "armed" represent, according to the codebook. Again, only write one sentence (max) per variable.
```{r}
names(dat)
```

__Body_Camera indicates whether or not the officer was wearing a body camera at the time of the shooting. Flee represents whether the victim was moving away from officers and whether they were moving by foot or by car or other. Armed represents whether the victim was armed at the time of the shooting, and if so describes what they were armed with. __

d. What are three weapons that you are surprised to find in the "armed" variable? Make a table of the values in "armed" to see the options.
```{r}
table(dat$armed)
```

__I was definitely surprised to see an air conditioner, a nail gun, and wasp spray used as weapons against the police. __

Problem 2 (10 points)

a. Describe the age distribution of the sample. Is this what you would expect to see?
```{r}
hist(dat$age)
```

__The distribution of age is skewed to the right, with the center focused around 30 years of age. This is pretty much what I would expect the age distribution to be, the most common age for crime to be committed is usually around 30 or under, so this may be a group that the police is most wary or suspicious of.__

b. To understand the center of the age distribution, would you use a mean or a median, and why? Find the one you picked.
```{r}
summary(dat$age)
```

__Since the data are slightly skewed, I will use the median to understand the center of the distribution, because this will reduce the impact of outliers on the center. The median of these data is 35 years of age.__

c. Describe the gender distribution of the sample. Do you find this surprising?
```{r}
table(dat$gender)
```

__There are way more male victims of fatal police shootings than females, as seen in the table above. This is not at all surprising to me, in America the stereotypical "criminal" is usually thought of as a young man, so it makes sense that the police might feel most threatened by people that fall into this category.__

 Problem 3 (10 points)

a. How many police officers had a body camera, according to news reports? What proportion is this of all the incidents in the data? Are you surprised that it is so high or low?

```{r}
table(dat$body_camera)
```

__910 of the recorded police officers were wearing a body camera, which is approximately 14% of the total recorded incidents. I am not surprised by how low this percentage is, I think that police officers have been generally resistant to the use of body cameras while in the field, and there are still many jurisdictions which do not enforce their use.__

b. In  how many of the incidents was the victim fleeing? What proportion is this of the total number of incidents in the data? Is this what you would expect?
```{r}
table(dat$flee)
counts <- table(dat$flee)
barplot(counts)
```

__It is important to note that there is one unlabeled category in the fleeing variable, that represents 491 incidents. Given that we can not tell what this represents, we will omit it from the number and percentage of those who fled/did not flee. 2151 of the victims were fleeing at the time of the shooting. This represents roughly 35% of the total incidents. I would actually expect more than this percentage of victims to have been fleeing the scene, I'm surprised that a majority of the victims recorded were not fleeing than those who were.__



Problem 4 (10 points) -  Answer only one of these (a or b).

a. Describe the relationship between the variables "body camera" and "flee" using a stacked barplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the options for "flee", each bar contains information about whether the police officer had a body camera (vertically), and the height along the y-axis shows the frequency of that category).*

*Hint 2: Also, if you are unsure about the syntax for barplot, run ?barplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*


```{r}
tab.bodycamflee<-table(dat$body_camera, dat$flee)
barplot(tab.bodycamflee, main = "Stacked Barchart", xlab = "Fleeing", ylab = "Body Camera", legend.text = rownames(tab.bodycamflee),beside = FALSE) # Stacked bars (default)

```

__It is important to note again that there is one unlabeled category in the fleeing variable, that represents 491 incidents. Given that we can not tell what this represents, we will omit it from the analysis of the barchart. In the above stacked barchat, we can see that there seems to be a similar proportion of officers wearing body cameras for each category of fleeing/not fleeing. Although we can see that the Not fleeing category has a higher number of officers wearing body cameras, there are also a higher number of not fleeing incidents as compared to the other categories, so proportionally they look pretty similar across the board. From this distribution, it seems that there is no obvious relationship between body camera wearing and victim fleeing patterns, as there are very similar proportions of body cameras for each category of fleeing. It's possible that a stacked barchart was not the best option to represent the relationship between these data, as we can not surmise much about the relationship from looking at this graph. __

b. Describe the relationship between age and race by using a boxplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the race categories and the height along the y-axis is age.* 

*Hint 2: Also, if you are unsure about the syntax for boxplot, run ?boxplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*


```{r}

```

__Your answer here.__






Extra credit (10 points)

a. What does this code tell us? 

```{r, eval=FALSE}
mydates <- as.Date(dat$date)
head(mydates)
(mydates[length(mydates)] - mydates[1])
```
__This code shows us the dates when each of the recorded shootings took place, and by looking at the first few rows of data, we can see that there were 6 shootings in the first 4 days of 2015. The last line of code tells us the number of days between the first recorded shooting in the dataset and the most recent, which is 2458 days or 6.7 years. Given that the first dates are in January 2015 and we are now in October of 2021, this time difference makes sense.__

b. On Friday, a new report was published that was described as follows by The Guardian: "More than half of US police killings are mislabelled or not reported, study finds." Without reading this article now (due to limited time), why do you think police killings might be mislabelled or underreported?

__I think that police shootings could be mis-labelled or under-reported due to them being classified as less severe than they are. For example, if a victim is shot by the police, but does not die until they are in the hospital hours later, this might be classified as just a shooting and not necessarily a fatal shooting since the victim did not die on the scene. Although there should be no gray area, and any person who dies after being shot by the police should be recorded as a fatal police shooting, I can see the potential for mislabelling and underreporting with situations that occurr under murkier circumstances. .__

c. Regarding missing values in problem 4, do you see any? If so, do you think that's all that's missing from the data?

__In the flee variable, there is an unlabeled category. Since we can not determine what these 491 incidents represent in terms of fleeing, we have to omit them from our analysis of the fleeing variable, which means we treat them as missing values. Given that this missing category exists, it would not surprise me to see that other variables have missing data as well. Given that "fleeing" could be seen as a matter of opinion or a subjective question in some challenging circumstances, it makes sense to me that there might be missing data in this variable. It seems possible that some of the other variables with "gray areas" or that are less clear cut could have missing data as well.__




